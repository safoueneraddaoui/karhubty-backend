meta {
  name: Create Car (Agent)
  type: http
  seq: 1
}

post {
  url: http://localhost:8080/api/cars
  body: json
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

body:json {
  {
    "brand": "Toyota",
    "model": "Camry",
    "year": 2023,
    "color": "Black",
    "licensePlate": "ABC-123-AGENT",
    "fuelType": "Petrol",
    "transmission": "Automatic",
    "seats": 5,
    "pricePerDay": 150,
    "guaranteePrice": 500,
    "category": "Sedan"
  }
}

script:post-response {
  if (res.status === 201 || res.status === 200) {
    console.log('✅ Car created successfully!');
    console.log('Car ID:', res.body.carId);
    bru.setEnvVar('createdCarId', res.body.carId);
  } else {
    console.log('❌ Failed to create car');
    console.log('Status:', res.status);
    console.log('Response:', res.body);
  }
}

